# ============================================
# Telegram Bot Configuration - Go Version
# ============================================

# ============================================
# Required Configuration
# ============================================

# Telegram Bot Token (Required)
# Get from @BotFather on Telegram
# Can specify multiple tokens separated by commas
TELEGRAM_AVAILABLE_TOKENS=your_bot_token_here

# ============================================
# AI Provider Configuration
# ============================================
# At least one AI provider must be configured

# AI Provider Selection
# Options: auto, openai, azure, gemini, anthropic, workers, mistral, cohere, deepseek, groq, xai
# Default: auto (automatically selects first available provider)
AI_PROVIDER=auto

# OpenAI Configuration
OPENAI_API_KEY=your_openai_api_key
OPENAI_CHAT_MODEL=gpt-4o-mini
OPENAI_API_BASE=https://api.openai.com/v1

# Azure OpenAI Configuration
# AZURE_API_KEY=your_azure_api_key
# AZURE_RESOURCE_NAME=your_resource_name
# AZURE_CHAT_MODEL=gpt-4o-mini
# AZURE_API_VERSION=2024-06-01

# Google Gemini Configuration
# GOOGLE_API_KEY=your_google_api_key
# GOOGLE_CHAT_MODEL=gemini-1.5-flash
# GOOGLE_API_BASE=https://generativelanguage.googleapis.com/v1beta

# Anthropic Claude Configuration
# ANTHROPIC_API_KEY=your_anthropic_api_key
# ANTHROPIC_CHAT_MODEL=claude-3-5-haiku-latest
# ANTHROPIC_API_BASE=https://api.anthropic.com/v1

# Cloudflare Workers AI Configuration
# CLOUDFLARE_ACCOUNT_ID=your_account_id
# CLOUDFLARE_TOKEN=your_cloudflare_token
# WORKERS_CHAT_MODEL=@cf/qwen/qwen1.5-7b-chat-awq

# ============================================
# Image Generation Configuration
# ============================================

# Image Provider Selection
AI_IMAGE_PROVIDER=auto

# DALL-E Configuration
DALL_E_MODEL=dall-e-3
DALL_E_IMAGE_SIZE=1024x1024
DALL_E_IMAGE_QUALITY=standard
DALL_E_IMAGE_STYLE=vivid

# ============================================
# Server Configuration
# ============================================

# HTTP Server Port
PORT=8080

# ============================================
# Database Configuration
# ============================================

# Database Connection String (DSN)
# If DSN is set, it takes precedence over DB_PATH
# Supported formats:
#   - SQLite: sqlite:///path/to/db.db or leave empty to use DB_PATH
#   - MySQL: mysql://user:password@host:port/dbname
#   - PostgreSQL: postgres://user:password@host:port/dbname
# Default: empty (uses SQLite with DB_PATH)
# DSN=

# SQLite Database Path (used when DSN is not set)
DB_PATH=./data/bot.db

# ============================================
# Bot Behavior Configuration
# ============================================

# Language (zh-cn, en, pt, zh-hant)
LANGUAGE=zh-cn

# Enable streaming responses
STREAM_MODE=true

# Enable safe mode (prevents duplicate message processing)
SAFE_MODE=true

# Debug mode (saves last message for debugging)
DEBUG_MODE=false

# Development mode (shows more info in /system command)
DEV_MODE=false

# ============================================
# Access Control
# ============================================

# Allow anyone to use the bot (not recommended for production)
I_AM_A_GENEROUS_PERSON=false

# Whitelist for private chats (comma-separated chat IDs)
# Example: CHAT_WHITE_LIST=123456789,987654321
CHAT_WHITE_LIST=

# Whitelist for group chats (comma-separated chat IDs)
CHAT_GROUP_WHITE_LIST=

# Enable group chat bot
GROUP_CHAT_BOT_ENABLE=true

# Share mode in groups (true: one history per group, false: one history per user)
GROUP_CHAT_BOT_SHARE_MODE=true

# ============================================
# User Settings Permission Control
# ============================================

# Enable user settings (allow users to modify their own configuration)
# When set to false, only admins can modify configuration
# Default: true (backward compatible)
ENABLE_USER_SETTING=true

# Admin user IDs (comma-separated Telegram User IDs)
# Users in this list can always modify configuration regardless of ENABLE_USER_SETTING
# Example: CHAT_ADMIN_KEY=123456789,987654321
CHAT_ADMIN_KEY=

# ============================================
# History Management
# ============================================

# Maximum number of messages to keep in history
MAX_HISTORY_LENGTH=20

# Maximum token length (-1 for unlimited)
MAX_TOKEN_LENGTH=-1

# Automatically trim history when it exceeds limits
AUTO_TRIM_HISTORY=true

# Placeholder for images in history (to reduce storage)
# HISTORY_IMAGE_PLACEHOLDER=<image>

# ============================================
# Telegram API Configuration
# ============================================

# Custom Telegram API domain (for users in restricted regions)
# TELEGRAM_API_DOMAIN=https://api.telegram.org

# Default message parse mode (Markdown or HTML)
DEFAULT_PARSE_MODE=Markdown

# Minimum interval between stream updates (milliseconds)
TELEGRAM_MIN_STREAM_INTERVAL=0

# Photo size offset for image processing
TELEGRAM_PHOTO_SIZE_OFFSET=1

# Image transfer mode (url or base64)
TELEGRAM_IMAGE_TRANSFER_MODE=base64

# Number of columns in model list
MODEL_LIST_COLUMNS=1

# ============================================
# Advanced Configuration
# ============================================

# System initialization message
# SYSTEM_INIT_MESSAGE=You are a helpful assistant.

# API timeout in seconds (0 for no timeout)
CHAT_COMPLETE_API_TIMEOUT=0

# Hide specific command buttons (comma-separated)
# HIDE_COMMAND_BUTTONS=/system

# Show reply button
SHOW_REPLY_BUTTON=false

# Include extra message context
EXTRA_MESSAGE_CONTEXT=false

# Lock specific config keys from user modification
LOCK_USER_CONFIG_KEYS=OPENAI_API_BASE,GOOGLE_API_BASE,MISTRAL_API_BASE,COHERE_API_BASE,ANTHROPIC_API_BASE,DEEPSEEK_API_BASE,GROQ_API_BASE,XAI_API_BASE
